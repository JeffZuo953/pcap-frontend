(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-797281b2"],{2612:function(r,t,e){"use strict";e.d(t,"d",(function(){return n})),e.d(t,"c",(function(){return c})),e.d(t,"a",(function(){return i})),e.d(t,"b",(function(){return d}));var s=e("3d0d"),a=e("c868"),o=e("2934"),n=function(){var r=Object(o["b"])(),t=r?r.user:null;return t};function c(r){return u.apply(this,arguments)}function u(){return u=Object(a["a"])(Object(s["a"])().mark((function r(t){return Object(s["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(o["d"])("/auth/profile/".concat(t,"/"));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)}))),u.apply(this,arguments)}function i(r,t){return l.apply(this,arguments)}function l(){return l=Object(a["a"])(Object(s["a"])().mark((function r(t,e){return Object(s["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(o["c"])("/auth/profile/".concat(t,"/"),"PUT",e);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)}))),l.apply(this,arguments)}function d(r,t){return m.apply(this,arguments)}function m(){return m=Object(a["a"])(Object(s["a"])().mark((function r(t,e){return Object(s["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(o["c"])("/auth/profile/change_password/".concat(t,"/"),"PUT",e);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)}))),m.apply(this,arguments)}},"8ce6":function(r,t,e){"use strict";e.r(t);var s=function(){var r=this,t=r._self._c;return t("div",{staticClass:"main-content"},[t("breadcumb",{attrs:{page:"Account Details",folder:"Profile"}}),t("b-row",{staticClass:"mb-30"},[t("b-col",[t("b-card",{staticClass:"text-left",attrs:{title:"Account Details"}},[t("b-row",[t("b-form-group",{staticClass:"col-md-6 mb-3",attrs:{label:"Upload Photo"}},[t("input",{attrs:{type:"file"}})])],1),t("b-row",[t("b-form-group",{staticClass:"col-md-6 mb-3",attrs:{label:"Name"}},[t("b-form-input",{attrs:{type:"text",required:""},model:{value:r.userForm.first_name,callback:function(t){r.$set(r.userForm,"first_name",t)},expression:"userForm.first_name"}})],1),t("b-form-group",{staticClass:"col-md-6 mb-3",attrs:{label:"Surname"}},[t("b-form-input",{attrs:{type:"text",required:""},model:{value:r.userForm.last_name,callback:function(t){r.$set(r.userForm,"last_name",t)},expression:"userForm.last_name"}})],1)],1),t("b-row",[t("b-form-group",{staticClass:"col-md-6 mb-3",attrs:{label:"E-Mail"}},[t("b-form-input",{attrs:{type:"text",required:""},model:{value:r.userForm.email,callback:function(t){r.$set(r.userForm,"email",t)},expression:"userForm.email"}})],1)],1),t("b-button",{attrs:{variant:"primary ripple m-1"},on:{click:function(t){return r.saveProfile()}}},[r._v("Update Profile")])],1)],1),t("b-col",[t("b-card",{staticClass:"text-left",attrs:{title:"Reset Password"}},[t("b-row",[t("b-form-group",{staticClass:"col-md-6 mb-3",attrs:{label:"Current Pasword"}},[t("b-form-input",{attrs:{type:"password",required:""},model:{value:r.passwordForm.currentPassword,callback:function(t){r.$set(r.passwordForm,"currentPassword",t)},expression:"passwordForm.currentPassword"}})],1)],1),t("b-row",[t("b-form-group",{staticClass:"col-md-6 mb-3",attrs:{label:"New Password"}},[t("b-form-input",{attrs:{type:"password",required:""},model:{value:r.passwordForm.newPassword,callback:function(t){r.$set(r.passwordForm,"newPassword",t)},expression:"passwordForm.newPassword"}})],1),t("b-form-group",{staticClass:"col-md-6 mb-3",attrs:{label:"New Password (Again)"}},[t("b-form-input",{attrs:{type:"password",required:""},model:{value:r.passwordForm.confirmPassword,callback:function(t){r.$set(r.passwordForm,"confirmPassword",t)},expression:"passwordForm.confirmPassword"}})],1)],1),t("b-button",{attrs:{variant:"primary ripple m-1"},on:{click:function(t){return r.updatePasword()}}},[r._v("Update Password")])],1)],1)],1)],1)},a=[],o=e("e6be"),n=e("2612"),c={metaInfo:{title:"Account Details"},data:function(){var r=Object(n["d"])(),t={userInfo:r,userForm:[Object(o["a"])({},r)],passwordForm:[{currentPassword:"",newPassword:"",confirmPassword:""}]};return this.refresh(),t},methods:{refresh:function(){var r=this,t=Object(n["d"])();Object(n["c"])(t.id).then((function(t){r.userInfo=t,r.userForm=t}))},makeToast:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;this.$bvToast.toast(t,{title:" ".concat(r||"default"),variant:r,solid:!0})},saveProfile:function(){var r=this,t=this.userForm,e=t.username,s=t.first_name,a=t.last_name,o=t.email;Object(n["a"])(this.userForm.id,{username:e,first_name:s,last_name:a,email:o}).then((function(t){r.refresh(),r.makeToast("success","Successfully updated profile.")})).catch((function(t){console.log("===== error: ",t),r.makeToast("danger","Failed updated profile.")}))},updatePasword:function(){var r=this.userInfo.id,t=this.passwordForm,e=t.currentPassword,s=t.newPassword,a=t.confirmPassword,o=this;s===a?Object(n["b"])(r,{old_password:e,new_password:s}).then((function(r){o.refresh(),o.makeToast("success","Successfully updated password.")})).catch((function(r){console.log("===== error: ",r),o.makeToast("danger","Failed updated password. Please input current password correctly.")})):this.makeToast("danger","The new password and the confirm password must be same")}}},u=c,i=e("829d"),l=Object(i["a"])(u,s,a,!1,null,null,null);t["default"]=l.exports}}]);