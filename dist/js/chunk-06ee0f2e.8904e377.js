(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06ee0f2e"],{c986:function(e,t,r){"use strict";r.r(t);r("4343"),r("260b"),r("5671");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-content"},[t("breadcumb",{attrs:{page:"HTTP Header Descriptions",folder:"Dashboard"}}),t("vue-good-table",{attrs:{columns:e.columns,"line-numbers":!0,"search-options":{enabled:!0,placeholder:"Search this table"},"pagination-options":{enabled:!0,mode:"records"},styleClass:"tableOne vgt-table",selectOptions:{enabled:!1,selectionInfoClass:"table-alert__box"},rows:e.rows},scopedSlots:e._u([{key:"table-row",fn:function(r){return["button"==r.column.field?t("span",[t("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-edit",modifiers:{"modal-edit":!0}}],attrs:{href:"#",block:""},on:{click:function(t){return e.editHeader(r.row.id)}}},[t("span",{staticClass:"ul-btn__icon"},[t("i",{staticClass:"i-Eraser-2 text-20 text-success mr-2"})]),e._v(" "+e._s(r.row.button)+" ")]),t("a",{attrs:{href:"#"},on:{click:function(t){return e.removeHeader(r.row.id)}}},[t("i",{staticClass:"i-Close-Window text-20 text-danger"}),e._v(" "+e._s(r.row.button)+" ")])]):e._e()]}}])},[t("div",{staticClass:"mb-3",attrs:{slot:"table-actions"},slot:"table-actions"},[t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-add",modifiers:{"modal-add":!0}}],staticClass:"btn-rounded",attrs:{block:"",variant:"primary mb-30"},on:{click:function(t){return e.editHeader(-1)}}},[e._v(" + Add New HTTP Header Description ")]),t("b-modal",{attrs:{id:"modal-add",centered:"",title:"Add New HTTP Header Description"},on:{ok:e.addHeader,cancel:e.refresh}},[t("b-form",{attrs:{id:"form-add"}},[t("b-form-group",{attrs:{id:"input-group-1","label-for":"input-1"}},[t("b-form-input",{attrs:{id:"input-1",type:"text",placeholder:"header name...",required:""},model:{value:e.headerDescriptionForm.name,callback:function(t){e.$set(e.headerDescriptionForm,"name",t)},expression:"headerDescriptionForm.name"}})],1),t("b-form-group",[t("b-form-textarea",{attrs:{id:"textarea",placeholder:"description...",rows:"3"},model:{value:e.headerDescriptionForm.description,callback:function(t){e.$set(e.headerDescriptionForm,"description",t)},expression:"headerDescriptionForm.description"}})],1)],1)],1)],1)]),t("b-modal",{attrs:{id:"modal-edit",centered:"",title:"Edit HTTP Header Description"},on:{ok:e.saveHeader,cancel:e.refresh}},[t("b-form",{attrs:{id:"form-edit"}},[t("b-form-group",{attrs:{id:"input-group-edit","label-for":"input-2"}},[t("b-form-input",{attrs:{id:"input-edit",type:"text",placeholder:"header name...",required:""},model:{value:e.headerDescriptionForm.name,callback:function(t){e.$set(e.headerDescriptionForm,"name",t)},expression:"headerDescriptionForm.name"}})],1),t("b-form-group",[t("b-form-textarea",{attrs:{id:"textarea-edit",placeholder:"description...",rows:"3"},model:{value:e.headerDescriptionForm.description,callback:function(t){e.$set(e.headerDescriptionForm,"description",t)},expression:"headerDescriptionForm.description"}})],1)],1)],1),t("div",{staticClass:"row mb-30"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"table-bottom large-12 medium-12 small-12 cell"},[t("b-button",{staticClass:"float-right",attrs:{variant:"primary"},on:{click:function(t){return e.downloadCSV()}}},[e._v("Download")])],1)]),t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-body"},[t("h4",{staticClass:"heading"},[e._v("CSV Upload")]),t("div",{staticClass:"table-bottom large-12 medium-12 small-12 cell"},[t("input",{ref:"file",attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}}),t("b-button",{staticClass:"float-right",attrs:{variant:"primary"},on:{click:function(t){return e.uploadCSV()}}},[e._v("Upload")])],1)])])])])],1)},a=[],i=(r("331d"),r("5384"),r("db18"),r("8b8a"),r("0ba6"),r("a6de"),r("d13e"),r("1725"),r("f1de"),r("f56d"),r("fcb3"),r("ab11"),r("ad0f"),r("22dd"),r("3d0d")),o=r("c868"),s=r("2934");function c(){return d.apply(this,arguments)}function d(){return d=Object(o["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["d"])("/http_header_description/all/",{method:"GET"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function l(){return u.apply(this,arguments)}function u(){return u=Object(o["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["d"])("/http_header_description/export-csv/",{method:"GET",headers:{"Content-Type":"blob",Accept:"application/json"},responseType:"blob"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return h=Object(o["a"])(Object(i["a"])().mark((function e(t){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["a"])("/http_header_description/import-csv/","POST",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function f(e){return m.apply(this,arguments)}function m(){return m=Object(o["a"])(Object(i["a"])().mark((function e(t){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["c"])("/http_header_description/create/","POST",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return v=Object(o["a"])(Object(i["a"])().mark((function e(t){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["d"])("/http_header_description/".concat(t,"/"),{method:"DELETE"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function w(e,t){return x.apply(this,arguments)}function x(){return x=Object(o["a"])(Object(i["a"])().mark((function e(t,r){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["c"])("/http_header_description/".concat(t,"/"),"PUT",r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}var _={metaInfo:{title:"Dashboard HTTP Header Descriptions"},data:function(){var e={columns:[{label:"Header Name",field:"name",thClass:"text-left",tdClass:"text-left"},{label:"Description",field:"description",html:!0,thClass:"text-left",tdClass:"text-left"},{label:"Actions",field:"button",html:!0,tdClass:"text-right",thClass:"text-right"}],rows:[],file:"",headerDescriptionForm:[{id:-1,name:"",description:"",created_at:""}]};return this.refresh(),e},methods:{refresh:function(){var e=this;c().then((function(t){e.rows=[],t.forEach((function(t,r){var n=t.id,a=t.name,i=t.description,o=t.updated_at;e.rows.push({id:n,name:a,description:i,updated_at:o})}))}))},downloadCSV:function(e){var t=null;l().then((function(e){return 200===e.status?(t=e.headers.get("Content-Disposition"),t&&(t=t.match(/(?<=")(?:\\.|[^"\\])*(?=")/)[0]),e.blob()):null})).then((function(e){var r=window.URL.createObjectURL(new Blob([e],{type:"text/csv;charset=utf-8;"})),n=document.createElement("a");n.href=r,n.setAttribute("download",t||"http_header_descriptions.csv"),document.body.appendChild(n),n.click(),n.remove(),window.URL.revokeObjectURL(r)})).catch((function(e){console.log("error: ",e)}))},uploadCSV:function(){var e=new FormData;e.append("file",this.file),e.append("fileName",this.file.name);var t=this;p(e).then((function(){t.refresh()})).catch((function(e){console.log("FAILURE: ",e)}))},handleFileUpload:function(){this.file=this.$refs.file.files[0]},addHeader:function(){var e=this.headerDescriptionForm,t=e.name,r=e.description,n=this;t&&f({name:t,description:r}).then((function(e){n.$bvModal.hide("modal-add"),n.refresh()})).catch((function(e){console.log("===== error: ",e)}))},editHeader:function(e){if(-1===e)this.headerDescriptionForm=[{id:-1,name:"",description:"",created_at:""}];else{var t=this.rows.find((function(t){return t.id===e}));this.headerDescriptionForm=t}},saveHeader:function(){var e=this,t=this.headerDescriptionForm,r=t.name,n=t.description;w(this.headerDescriptionForm.id,{name:r,description:n}).then((function(t){e.$bvModal.hide("modal-edit"),e.refresh()})).catch((function(e){console.log("===== error: ",e)}))},removeHeader:function(e){var t=this;b(e).then((function(e){t.refresh()})).catch((function(e){console.log("===== error: ",e)}))}}},C=_,O=(r("f03f"),r("829d")),D=Object(O["a"])(C,n,a,!1,null,null,null);t["default"]=D.exports},d500:function(e,t,r){},f03f:function(e,t,r){"use strict";r("d500")}}]);